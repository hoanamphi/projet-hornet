webpackJsonp([2],{350:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=r(354),n=r(122),a=r(359),o=function(e){function t(){var t=e.call(this)||this;return t.addPageRoute("/",function(){return new n.PageRouteInfos(s.ContactPage,null,a.ContactServiceImpl)},n.PUBLIC_ROUTE),t}return i.__extends(t,e),t}(n.AbstractRoutes);t.default=o},354:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=r(1),n=r(2),a=r(12),o=r(125),l=r(355),h=r(126),c=r(356),u=r(28),p=r(42),m=r(123),d=r(59),f=r(358),g=(s.Utils.getLogger("projet-hornet.views.cnt.gen-cnt-page"),function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.formI18n=i.i18n("contactPage.form"),i}return i.__extends(t,e),t.prototype.prepareClient=function(){},t.prototype.onSubmit=function(e){var t=this;this.getService().envoyer(e).then(function(e){if(e.errors){var r=new p.Notifications,i=new p.NotificationType;i.id=e.errors.reportId,i.text=e.errors.message,r.addNotification(i),p.NotificationManager.notify(null,"contactForm",r,null)}else p.NotificationManager.notify(null,"contactForm",null,p.Notifications.makeSingleNotification("",t.i18n("info.message.IN-GE-CNT-01")))})},t.prototype.render=function(){return n.createElement("div",null,n.createElement("h2",null,this.i18n("contactPage.title")),n.createElement(u.Notification,{id:"notif"}),n.createElement(o.Form,{id:"contactForm",schema:f,formMessages:this.formI18n,onSubmit:this.onSubmit},n.createElement(l.Row,{className:"row"},n.createElement(h.InputField,{name:"nom",label:this.formI18n.fields.nom.label,required:!0})),n.createElement(l.Row,null,n.createElement(h.InputField,{name:"prenom",label:this.formI18n.fields.prenom.label,required:!0})),n.createElement(l.Row,null,n.createElement(h.InputField,{name:"mail",label:this.formI18n.fields.mail.label,required:!0})),n.createElement(l.Row,null,n.createElement(c.TextAreaField,{name:"message",label:this.formI18n.fields.message.label,required:!0,cols:60,rows:6})),n.createElement(d.ButtonsArea,null,n.createElement(m.Button,{type:"submit",id:"envoi",name:"action:envoi",value:"Valider",className:"hornet-button",label:this.i18n("form.valid"),title:this.i18n("contactPage.form.validTitle")}))))},t}(a.HornetPage));t.ContactPage=g},355:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=r(2),n=r(3),a=function(e){function t(t,r){return e.call(this,t,r)||this}return i.__extends(t,e),t.prototype.setClassName=function(e,t){return this.setState({className:e},t),this},t.prototype.getPureChildFraction=function(){var e=0;return s.Children.forEach(this.state.children,function(t){var r=1;if(t&&t.props){if(t.props.groupClass){var i=t.props.groupClass.split("-");i.length&&i.length-1&&!isNaN(i[i.length-1])&&(r=i[i.length-1])}e+=Number(r)}}),e},t.prototype.render=function(){var e=this.getPureChildFraction(),t="has-gutter "+this.state.className;return 1!=e&&(t+="-"+e),s.createElement("div",{className:t},s.Children.map(this.state.children,function(e,t){if(e&&e.props&&e.props.name){var r={groupClass:e.props.groupClass||""};return s.cloneElement(e,r)}return e}))},t.defaultProps={className:"grid"},t}(n.HornetComponent);t.Row=a},356:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=r(2),n=r(15),a=r(4),o=r(61),l=r(9),h=r(60),c=r(7),u=r(357),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.errorShowed=!1,t}return i.__extends(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.state.valued!=t.valued||this.state.currentValue!=t.currentValue||this.state.errors!=t.errors},t.prototype.componentDidMount=function(){this.setClientHeight()},t.prototype.renderWidget=function(){var e=this,t=this.getHtmlProps(),r=this.hasErrors()?" has-error":"";return a.assign(t,{className:t.className?t.className+r:r}),s.createElement("div",{className:"textarea-container"},this.state.displayCharNumber?s.createElement("div",{className:"textarea-character-value",ref:function(t){e.refChar=t}}):null,s.createElement("textarea",i.__assign({onChange:this.valueChange,ref:function(t){e.registerHtmlElement(t),e.element=t}},t),this.state.currentValue),this.state.resettable&&this.state.valued&&!this.state.readOnly&&!this.state.disabled?this.renderResetButton():s.createElement("div",null),s.createElement(u.Alert,{ref:"alert",message:"",onClickClose:this.closeAlert}))},t.prototype.renderResetButton=function(){var e=a.cloneDeep(this.getHtmlProps()),t="hidden"==e.type,r={"input-reset textarea-reset":!0,"input-reset-hidden":!this.isValued()||t},n={};return this.isValued()&&(n.onClick=this.resetValue),s.createElement("span",{className:l(r),role:"button","aria-hidden":!this.state.valued,id:this.props.id||this.props.name+"ResetButton"},s.createElement("a",i.__assign({},n),s.createElement("img",{src:o.Picto.grey.close,alt:"reset"})))},t.prototype.setClientHeight=function(e){if(this.props.extendable){var t=e?e.target.value:this.element.textContent;if(void 0!==t&&null!==t){var r=25*(t.split("\n").length+1),i=this.props.maxLength&&this.props.maxLength<this.state.height?this.props.maxLength:r;this.element.style.height=i+"px",this.element.height=i;for(var s=document.getElementById(this.element.id),n=s.height;n<this.element.scrollHeight;)n+=25;var a=this.props.maxLength&&this.props.maxLength<this.state.height?this.props.maxLength:n;s.style.height=a+"px",s.height=a}}},t.prototype.valueChange=function(e){this.state.extendable&&this.setClientHeight(e);var t=e.target.value;if(this.refChar.innerHTML=0!==t?this.props.charLabel?this.props.charLabel.replace("{count}",t.length):this.i18n("textarea.charLabel",{count:t.length}):"",this.props.maxChar&&t.length>this.props.maxChar&&!this.errorShowed){if(this.props.showAlert){var r=this.props.alertMessage?this.props.alertMessage.replace("{count}",t.length).replace("{maxChar}",this.props.maxChar.toString()):this.i18n("textarea.alertMessage",{count:t.length,maxChar:this.props.maxChar}),i=this.props.alertTitle?this.props.alertTitle.replace("{count}",t.length).replace("{maxChar}",this.props.maxChar.toString()):this.i18n("textarea.alertTitle",{count:t.length,maxChar:this.props.maxChar});this.showAlert(r,i)}this.refChar.className=this.refChar.className.replace(" textarea-too-many-char",""),this.refChar.className+=" textarea-too-many-char"}t.length<=this.props.maxChar&&this.errorShowed&&(this.errorShowed=!1,this.refChar.className=this.refChar.className.replace(" textarea-too-many-char","")),e.target.value&&!this.state.valued?this.setState({valued:!0,currentValue:t}):!e.target.value&&this.state.valued&&this.setState({valued:!1})},t.prototype.setCurrentValue=function(t){return e.prototype.setCurrentValue.call(this,t),this.setState({valued:""!==t&&t,currentValue:t}),this},t.prototype.isValued=function(){return this.state.valued||this.props.value},t.prototype.resetValue=function(){var e=this;this.htmlElement&&this.htmlElement.onchange&&this.htmlElement.onchange(),this.refChar.innerHTML="",this.htmlElement.value="",c.fireHornetEvent(h.VALUE_CHANGED_EVENT.withData(this.htmlElement)),this.setState({valued:!1},function(){e.setClientHeight()})},t.prototype.closeAlert=function(){this.errorShowed=!0,this.refs.alert.close()},t.prototype.showAlert=function(e,t){var r=this;this.refs.alert.setMessage(e),this.refs.alert.setTitle(t),this.refs.alert.setOnClickOk(function(){r.closeAlert()}).open()},t.defaultProps=a.assign(a.cloneDeep(n.AbstractField.defaultProps),{rows:6,resettable:!0,displayCharNumber:!0,extendable:!0,showAlert:!0}),t}(n.AbstractField);t.TextAreaField=p},357:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=r(2),n=r(3),a=r(123),o=r(127),l=r(28),h=function(e){function t(t,r){return e.call(this,t,r)||this}return i.__extends(t,e),t.prototype.setTitle=function(e,t){return this.setState({title:e},t),this},t.prototype.setMessage=function(e,t){return this.setState({message:e},t),this},t.prototype.setOnClickOk=function(e,t){return this.setState({onClickOk:e},t),this},t.prototype.setOnClickCancel=function(e,t){return this.setState({onClickCancel:e},t),this},t.prototype.setOnClickClose=function(e,t){return this.setState({onClickClose:e},t),this},t.prototype.open=function(e){return this.setState({isVisible:!0},e),this},t.prototype.close=function(e){return this.setState({isVisible:!1},e),this},t.prototype.render=function(){if(!this.state.isVisible)return null;var e=this.state.notificationId||"nAlert";return s.createElement(o.Modal,{alert:!0,isVisible:!0,onClickClose:this.state.onClickClose,underlayClickExits:this.state.underlayClickExits,escapeKeyExits:this.state.escapeKeyExits,title:this.state.title,dialogId:this.state.dialogId},s.createElement(l.Notification,{id:e}),s.createElement("div",{className:"widget-alert-body","aria-labelledby":"dialogue-title"},this.state.message),s.createElement("div",{className:"widget-dialogue-footer"},this.renderButtons()))},t.prototype.renderButtons=function(){return s.createElement("div",{className:"txtcenter"},s.createElement(a.Button,i.__assign({},this.configOKButton())))},t.prototype.configOKButton=function(){return{type:"button",id:"alertOK",name:"action:validMessage",value:"Valider",className:"hornet-button hornet-alert-button-ok",label:this.getValid(),title:this.getValidTitle(),onClick:this.state.onClickOk}},t.prototype.getValid=function(){return this.state.valid||this.i18n("form.valid")},t.prototype.getValidTitle=function(){return this.state.validTitle||this.i18n("form.validTitle")},t.defaultProps={isVisible:!1,underlayClickExits:!1,escapeKeyExits:!0},t}(n.HornetComponent);t.Alert=h},358:function(e,t){e.exports={$schema:"http://json-schema.org/schema#",title:"Contact",description:"",type:"object",properties:{nom:{description:"Nom expéditeur",type:"string",maxLength:50,required:!0},prenom:{description:"Prénom expéditeur",type:"string",maxLength:50,required:!0},mail:{description:"Mail expéditeur",type:"string",format:"email",required:!0},message:{description:"message expéditeur",type:"string",maxLength:5e4,required:!0}}}},359:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=r(1),n=r(360),a=r(124),o=s.Utils.getLogger("projet-hornet.services.page.cnt.contact-service-page-impl"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.envoyer=function(e){return o.trace("SERVICES - send : ",e),this.fetch({method:"post",url:this.buildUrl(a.URL_CONTACT),data:e})},t}(n.ServicePage);t.ContactServiceImpl=l},360:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=r(43),n=r(1),a=(n.Utils.getLogger("hornet-js-core.services.service-page"),function(e){function t(){var t=e.call(this)||this;return n.Utils.config.getOrDefault("fullSpa.enabled",!1)&&(t.serviceHost=n.Utils.config.getOrDefault("fullSpa.host",""),t.serviceName=n.Utils.buildContextPath(n.Utils.config.getOrDefault("fullSpa.name","/services"))),t}return i.__extends(t,e),t}(s.ServiceRequest));t.ServicePage=a}});
//# sourceMappingURL=2.js.map